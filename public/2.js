(window.webpackJsonp=window.webpackJsonp||[]).push([[2],{21:function(t,s,e){"use strict";var a=e(4);e.n(a).a},22:function(t,s,e){(t.exports=e(6)(!1)).push([t.i,"\n.sidebar[data-v-082b7ec0]{\n  width: 100%;\n  display: flex;\n  flex-direction: column;\n  justify-content: flex-start;\n  align-items: center;\n  height: calc(100vh - 40vh);\n  overflow-x: hidden;\n  overflow-y: auto;\n  padding-top: 20px;\n}\n.imgClass[data-v-082b7ec0]{\n    width: 50%;\n    height: 50%;\n    -o-object-fit: scale-down;\n    object-fit: scale-down;\n}\n.numbers[data-v-082b7ec0]{\n  font-weight: 900;\n  font-size: 18px;\n  color:red;\n  /* text-align:left !important ; */\n}\n.c_title[data-v-082b7ec0]{\n  font-size: 10px;\n  font-weight: 600;\n}\n.c_number[data-v-082b7ec0]{\n  font-size: 25px;\n  font-weight: 700;\n}\n.m_block[data-v-082b7ec0]{\n  padding: 10px;\n  border-radius: 15px;\n  margin: 5px;\n}\n.sidT[data-v-082b7ec0]{\n  padding-left:5px ;\n  padding-right:5px ;\n}\n.all_border[data-v-082b7ec0]{\n  border: 1px solid red;\n}\n#mapx[data-v-082b7ec0]{\n  height: 100vh\n}\n",""])},4:function(t,s,e){var a=e(22);"string"==typeof a&&(a=[[t.i,a,""]]);var n={hmr:!0,transform:void 0,insertInto:void 0};e(7)(a,n);a.locals&&(t.exports=a.locals)},63:function(t,s,e){"use strict";e.r(s);var a=e(2),n=e.n(a),i=e(64),o=e(65),r=e(59),c=e(66),l=e(60),d=e(61),u=e(62),v=e(0);function p(t,s,e,a,n,i,o){try{var r=t[i](o),c=r.value}catch(t){return void e(t)}r.done?s(c):Promise.resolve(c).then(a,n)}function f(t){return function(){var s=this,e=arguments;return new Promise((function(a,n){var i=t.apply(s,e);function o(t){p(i,a,n,o,r,"next",t)}function r(t){p(i,a,n,o,r,"throw",t)}o(void 0)}))}}var _={name:"example-component",components:{LMap:i.a,LTileLayer:o.a,LGeoJson:r.a,LMarker:c.a,LPopup:l.a,LIcon:d.a,LCircle:u.a},data:function(){return{url:"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png",zoom:6.4,center:[9.082,8.6753],statesList:null,mode:"all",cases:null,bounds:null,geojson:null,states:null,stateBoundaries:null,fillColor:"#e4ce7f",fillColorState:"#ff0000",icon:Object(v.icon)({iconUrl:"/geos/icon.png",iconSize:[16,16],iconAnchor:[0,0]})}},methods:{zoomUpdated:function(t){this.zoom=t},launchModal:function(){jQuery("#myModal").modal("show")},centerUpdated:function(t){this.center=t},boundsUpdated:function(t){this.bounds=t},initMap:function(){var t=this;return f(n.a.mark((function s(){var e;return n.a.wrap((function(s){for(;;)switch(s.prev=s.next){case 0:return s.next=2,fetch("https://raw.githubusercontent.com/davetaz/nigeria-map/gh-pages/data/processed/nigeria_regions.json");case 2:return e=s.sent,s.next=5,e.json();case 5:t.geojson=s.sent,t.getState(),t.allCases();case 8:case"end":return s.stop()}}),s)})))()},getState:function(){var t=this;return f(n.a.mark((function s(){var e;return n.a.wrap((function(s){for(;;)switch(s.prev=s.next){case 0:return s.next=2,fetch("/api/states");case 2:return e=s.sent,s.next=5,e.json();case 5:t.statesList=s.sent,console.log(t.statesList);case 7:case"end":return s.stop()}}),s)})))()},loadStatePoly:function(){this.stateBoundaries=[[function(t){return"https://geoserver.grid-nigeria.org/geoserver/GRIDMaster/ows?service=WFS&version=1.0.0&request=GetFeature&typeName=GRIDMaster:sv_boundary_lgas&outputFormat=application%2Fjson&authkey=fdfe9a37-d2d0-4210-9a15-25dab5d907fa&CQL_FILTER=state_code=%27LA%27"},function(t){return""}]];var t=[],s=0;this.cases.data.map(function(){var e=f(n.a.mark((function e(a){var i,o,r;return n.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("https://geoserver.grid-nigeria.org/geoserver/GRIDMaster/ows?service=WFS&version=1.0.0&request=GetFeature&typeName=GRIDMaster:sv_boundary_lgas&outputFormat=application%2Fjson&authkey=fdfe9a37-d2d0-4210-9a15-25dab5d907fa&CQL_FILTER=state_code=%27".concat(a.code,"%27"));case 2:return i=e.sent,e.next=5,i.json();case 5:o=e.sent,a.restpn=o,(r=new Array(2)).id=s++,r.bound=o,t.push(r);case 11:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),this.states=t,console.log(t)},allCases:function(){var t=this;return f(n.a.mark((function s(){var e;return n.a.wrap((function(s){for(;;)switch(s.prev=s.next){case 0:return s.next=2,fetch("/api/active-cases");case 2:return e=s.sent,s.next=5,e.json();case 5:t.cases=s.sent,t.loadStatePoly();case 7:case"end":return s.stop()}}),s)})))()}},created:function(){this.initMap()},computed:{styleFunction:function(){var t=this.fillColor;return function(){return{weight:2,color:"#ECEFF1",opacity:1,fillColor:t,fillOpacity:1}}},styleFunctionSatet:function(){var t=this.fillColorState;return function(){return{weight:1,color:"#ff0000",opacity:.1,fillColor:t,fillOpacity:.1}}}}},h=(e(21),e(9)),m=Object(h.a)(_,(function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("div",{staticClass:"container-fluid"},[e("div",{staticClass:"row"},[e("div",{staticClass:"col-md-10",staticStyle:{padding:"0"}},[e("div",{staticClass:"card"},[e("div",{attrs:{id:"mapx"}},[e("l-map",{staticStyle:{height:"100%",width:"100%"},attrs:{zoom:t.zoom,center:t.center},on:{"update:zoom":t.zoomUpdated,"update:center":t.centerUpdated,"update:bounds":t.boundsUpdated}},[e("l-tile-layer",{attrs:{url:t.url}}),t._v(" "),e("l-geo-json",{attrs:{geojson:t.geojson,"options-style":t.styleFunction}}),t._v(" "),t._l(t.states,(function(s){return e("div",{key:s.id},[e("l-geo-json",{attrs:{geojson:s.bound,"options-style":t.styleFunctionSatet}})],1)})),t._v(" "),t._l(t.cases.data,(function(t){return e("div",{key:t.id},[e("l-circle",{attrs:{"lat-lng":[t.longitude,t.latitude],radius:"45000",color:"red","fill-color":"#ff0000",opacity:"1","fill-opacity":"0.6"}})],1)}))],2)],1)])]),t._v(" "),e("div",{staticClass:"col-md-2",staticStyle:{padding:"0"}},[e("div",{staticClass:"card",staticStyle:{padding:"10px"}},[e("div",{staticClass:"row",staticStyle:{"align-items":"center"}},[e("div",{staticClass:"col-lg-6 col-md-12 col-xs-12 text-center",on:{click:function(s){return t.launchModal()}}},[e("div",{staticClass:"card m_block",class:{all_border:"all"==t.mode}},[e("strong",{staticClass:"c_number"},[t._v("61")]),t._v(" "),e("span",{staticClass:"c_title"},[t._v("Total Cases")])])]),t._v(" "),t._m(0),t._v(" "),t._m(1),t._v(" "),t._m(2),t._v(" "),t._m(3),t._v(" "),t._m(4)]),t._v(" "),e("hr"),t._v(" "),e("div",{staticClass:"sidebar"},t._l(t.statesList.data,(function(s){return e("div",{key:s.id,staticClass:"card",staticStyle:{padding:"5px","margin-top":"5px",width:"100%"}},[e("div",{staticClass:"row",staticStyle:{"align-items":"center"}},[e("div",{staticClass:"col-md-3 "},[e("img",{staticClass:"img-fluid imgClass",attrs:{src:s.image}})]),t._v(" "),e("div",{staticClass:"col-md-6 "},[e("h6",[t._v(t._s(s.name))])]),t._v(" "),e("div",{staticClass:"col-md-3 "},[e("h6",{staticClass:"numbers"},[t._v(t._s(s.total_case))])])])])})),0)])])]),t._v(" "),t._m(5)])}),[function(){var t=this.$createElement,s=this._self._c||t;return s("div",{staticClass:"col-lg-6 col-xs-12 text-center"},[s("div",{staticClass:"card m_block"},[s("strong",{staticClass:"c_number"},[this._v("1")]),this._v(" "),s("span",{staticClass:"c_title"},[this._v("Deaths")])])])},function(){var t=this.$createElement,s=this._self._c||t;return s("div",{staticClass:"col-lg-6 col-xs-12 text-center"},[s("div",{staticClass:"card m_block"},[s("strong",{staticClass:"c_number"},[this._v("3")]),this._v(" "),s("span",{staticClass:"c_title"},[this._v("Discharged")])])])},function(){var t=this.$createElement,s=this._self._c||t;return s("div",{staticClass:"col-lg-6 col-xs-12 text-center"},[s("div",{staticClass:"card m_block"},[s("strong",{staticClass:"c_number"},[this._v("57")]),this._v(" "),s("span",{staticClass:"c_title"},[this._v("Active")])])])},function(){var t=this.$createElement,s=this._self._c||t;return s("div",{staticClass:"col-lg-6 col-xs-12 text-center"},[s("div",{staticClass:"card m_block"},[s("strong",{staticClass:"c_number"},[this._v("X")]),this._v(" "),s("span",{staticClass:"c_title"},[this._v("Index Cases")])])])},function(){var t=this.$createElement,s=this._self._c||t;return s("div",{staticClass:"col-lg-6 col-xs-12 text-center"},[s("div",{staticClass:"card m_block"},[s("strong",{staticClass:"c_number"},[this._v("X")]),this._v(" "),s("span",{staticClass:"c_title"},[this._v("Contact Cases")])])])},function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("div",{staticClass:"modal fade",attrs:{tabindex:"-1",role:"dialog",id:"myModal"}},[e("div",{staticClass:"modal-dialog",attrs:{role:"document"}},[e("div",{staticClass:"modal-content"},[e("div",{staticClass:"modal-header"},[e("button",{staticClass:"close",attrs:{type:"button","data-dismiss":"modal","aria-label":"Close"}},[e("span",{attrs:{"aria-hidden":"true"}},[t._v("×")])]),t._v(" "),e("h4",{staticClass:"modal-title"},[t._v("Modal title")])]),t._v(" "),e("div",{staticClass:"modal-body"},[e("p",[t._v("One fine body…")])]),t._v(" "),e("div",{staticClass:"modal-footer"},[e("button",{staticClass:"btn btn-default",attrs:{type:"button","data-dismiss":"modal"}},[t._v("Close")]),t._v(" "),e("button",{staticClass:"btn btn-primary",attrs:{type:"button"}},[t._v("Save changes")])])])])])}],!1,null,"082b7ec0",null);s.default=m.exports}}]);