(window.webpackJsonp=window.webpackJsonp||[]).push([[2],{21:function(t,a,e){"use strict";var s=e(4);e.n(s).a},22:function(t,a,e){(t.exports=e(6)(!1)).push([t.i,"\n.sidebar[data-v-8a95e028]{\n  width: 100%;\n  display: flex;\n  flex-direction: column;\n  justify-content: flex-start;\n  align-items: center;\n  height: 100%;\n  max-height: 60vh;\n  overflow-x: hidden;\n  overflow-y: auto;\n  padding-top: 20px;\n}\n.imgClass[data-v-8a95e028]{\n    width: 50%;\n    height: 50%;\n    -o-object-fit: scale-down;\n    object-fit: scale-down;\n}\n.numbers[data-v-8a95e028]{\n  font-weight: 900;\n  font-size: 18px;\n  color:red;\n  /* text-align:left !important ; */\n}\n.c_title[data-v-8a95e028]{\n  font-size: 10px;\n  font-weight: 600;\n}\n.c_number[data-v-8a95e028]{\n  font-size: 25px;\n  font-weight: 700;\n}\n.m_block[data-v-8a95e028]{\n  padding: 10px;\n  border-radius: 15px;\n  margin: 5px;\n}\n.sidT[data-v-8a95e028]{\n  padding-left:5px ;\n  padding-right:5px ;\n}\n.all_border[data-v-8a95e028]{\n  border: 1px solid red;\n}\n#mapx[data-v-8a95e028]{\n  height: 100vh\n}\n",""])},4:function(t,a,e){var s=e(22);"string"==typeof s&&(s=[[t.i,s,""]]);var n={hmr:!0,transform:void 0,insertInto:void 0};e(7)(s,n);s.locals&&(t.exports=s.locals)},63:function(t,a,e){"use strict";e.r(a);var s=e(2),n=e.n(s),i=e(64),o=e(65),r=e(59),c=e(66),l=e(60),d=e(61),u=e(62),p=e(0);function v(t,a,e,s,n,i,o){try{var r=t[i](o),c=r.value}catch(t){return void e(t)}r.done?a(c):Promise.resolve(c).then(s,n)}function f(t){return function(){var a=this,e=arguments;return new Promise((function(s,n){var i=t.apply(a,e);function o(t){v(i,s,n,o,r,"next",t)}function r(t){v(i,s,n,o,r,"throw",t)}o(void 0)}))}}var m={name:"example-component",components:{LMap:i.a,LTileLayer:o.a,LGeoJson:r.a,LMarker:c.a,LPopup:l.a,LIcon:d.a,LCircle:u.a},data:function(){return{url:"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png",zoom:6.4,center:[9.082,8.6753],caseLoader:!0,stateLoader:!0,statsLoader:!0,statesList:null,mode:"all",stats:null,cases:null,bounds:null,geojson:null,states:null,circleOpacity:1,circleFillOpacity:.6,stateBoundaries:null,fillColor:"#e4ce7f",fillColorState:"#ff0000",icon:Object(p.icon)({iconUrl:"/geos/icon.png",iconSize:[16,16],iconAnchor:[0,0]})}},methods:{getRadius:function(t){return t>50?5e4:t>10&&t<50?3e4:1e4},zoomUpdated:function(t){this.zoom=t},launchModal:function(){jQuery("#myModal").modal("show")},centerUpdated:function(t){this.center=t},boundsUpdated:function(t){this.bounds=t},initMap:function(){var t=this;return f(n.a.mark((function a(){var e;return n.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,fetch("https://raw.githubusercontent.com/davetaz/nigeria-map/gh-pages/data/processed/nigeria_regions.json");case 2:return e=a.sent,a.next=5,e.json();case 5:t.geojson=a.sent,t.getState(),t.allCases(),t.getStats();case 9:case"end":return a.stop()}}),a)})))()},getState:function(){var t=this;return f(n.a.mark((function a(){var e;return n.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,fetch("/api/states");case 2:return e=a.sent,a.next=5,e.json();case 5:t.statesList=a.sent,t.stateLoader=!1;case 7:case"end":return a.stop()}}),a)})))()},loadStatePoly:function(){var t=[];this.cases.data.map(function(){var a=f(n.a.mark((function a(e){var s,i,o;return n.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,fetch("https://geoserver.grid-nigeria.org/geoserver/GRIDMaster/ows?service=WFS&version=1.0.0&request=GetFeature&typeName=GRIDMaster:sv_boundary_lgas&outputFormat=application%2Fjson&authkey=fdfe9a37-d2d0-4210-9a15-25dab5d907fa&CQL_FILTER=state_code=%27".concat(e.code,"%27"));case 2:return s=a.sent,a.next=5,s.json();case 5:i=a.sent,e.restpn=i,(o=new Array(2)).id=e.id,o.bound=i,t.push(o);case 11:case"end":return a.stop()}}),a)})));return function(t){return a.apply(this,arguments)}}()),this.states=t},allCases:function(){var t=this;return f(n.a.mark((function a(){var e;return n.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,fetch("/api/active-cases");case 2:return e=a.sent,a.next=5,e.json();case 5:t.cases=a.sent,t.caseLoader=!1,t.loadStatePoly();case 8:case"end":return a.stop()}}),a)})))()},getStats:function(){var t=this;return f(n.a.mark((function a(){var e;return n.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,fetch("/api/stats");case 2:return e=a.sent,a.next=5,e.json();case 5:t.stats=a.sent,console.log(t.stats),t.statsLoader=!1;case 8:case"end":return a.stop()}}),a)})))()}},created:function(){this.initMap()},computed:{styleFunction:function(){this.fillColor;return function(){return{weight:2,color:"#ECEFF1",opacity:1,fillColor:"#065535",fillOpacity:1}}},styleFunctionSatet:function(){this.fillColorState;return function(){return{weight:2,color:"#ff0000",opacity:1,fillColor:"#ff0000",fillOpacity:1}}}}},g=(e(21),e(9)),h=Object(g.a)(m,(function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"container-fluid"},[e("div",{staticClass:"row"},[e("div",{staticClass:"col-md-10",staticStyle:{padding:"0"}},[e("div",{staticClass:"card"},[e("div",{attrs:{id:"mapx"}},[e("l-map",{staticStyle:{height:"100%",width:"100%"},attrs:{zoom:t.zoom,center:t.center},on:{"update:zoom":t.zoomUpdated,"update:center":t.centerUpdated,"update:bounds":t.boundsUpdated}},[e("l-tile-layer",{attrs:{url:t.url}}),t._v(" "),e("l-geo-json",{attrs:{geojson:t.geojson,"options-style":t.styleFunction}}),t._v(" "),t.caseLoader?t._e():e("div",t._l(t.cases.data,(function(a){return e("div",{key:a.name},[e("l-circle",{attrs:{"lat-lng":[a.longitude,a.latitude],radius:t.getRadius(a.total_case),color:"red","fill-color":"#ff0000",opacity:t.circleOpacity,"fill-opacity":t.circleFillOpacity}})],1)})),0)],1)],1)])]),t._v(" "),e("div",{staticClass:"col-md-2",staticStyle:{padding:"0"}},[e("div",{staticClass:"card",staticStyle:{padding:"10px"}},[t.statsLoader?e("div",{staticStyle:{"align-items":"center"}},[e("img",{staticClass:"img-fluid ",attrs:{src:"https://constructs.stampede-design.com/wp-content/uploads/2015/06/buffer-loading.gif"}})]):e("div",{staticClass:"row",staticStyle:{"align-items":"center"}},[e("div",{staticClass:"col-lg-6 col-md-12 col-xs-12 text-center",on:{click:function(a){return t.launchModal()}}},[e("div",{staticClass:"card m_block",class:{all_border:"all"==t.mode}},[e("strong",{staticClass:"c_number"},[t._v(t._s(t.stats.data.total_cases))]),t._v(" "),e("span",{staticClass:"c_title"},[t._v("Total Cases")])])]),t._v(" "),e("div",{staticClass:"col-lg-6 col-xs-12 text-center"},[e("div",{staticClass:"card m_block"},[e("strong",{staticClass:"c_number"},[t._v(t._s(t.stats.data.total_active_cases))]),t._v(" "),e("span",{staticClass:"c_title"},[t._v("Active")])])]),t._v(" "),e("div",{staticClass:"col-lg-6 col-xs-12 text-center"},[e("div",{staticClass:"card m_block"},[e("strong",{staticClass:"c_number"},[t._v(t._s(t.stats.data.total_deaths))]),t._v(" "),e("span",{staticClass:"c_title"},[t._v("Deaths")])])]),t._v(" "),e("div",{staticClass:"col-lg-6 col-xs-12 text-center"},[e("div",{staticClass:"card m_block"},[e("strong",{staticClass:"c_number"},[t._v(t._s(t.stats.data.total_recoveries))]),t._v(" "),e("span",{staticClass:"c_title"},[t._v("Discharged")])])])]),t._v(" "),e("hr"),t._v(" "),e("div",{staticClass:"sidebar"},[t.stateLoader?e("div",{staticStyle:{"align-items":"center"}},[e("img",{staticClass:"img-fluid ",attrs:{src:"https://constructs.stampede-design.com/wp-content/uploads/2015/06/buffer-loading.gif"}})]):e("div",t._l(t.statesList.data,(function(a){return e("div",{key:a.id,staticClass:"card",staticStyle:{padding:"5px","margin-top":"5px",width:"100%"}},[e("div",{staticClass:"row",staticStyle:{"align-items":"center"}},[e("div",{staticClass:"col-md-3 "},[e("img",{staticClass:"img-fluid imgClass",attrs:{src:a.image}})]),t._v(" "),e("div",{staticClass:"col-md-6 "},[e("h6",[t._v(t._s(a.name))])]),t._v(" "),e("div",{staticClass:"col-md-3 "},[e("h6",{staticClass:"numbers"},[t._v(t._s(a.total_case))])])])])})),0)])])])]),t._v(" "),t._m(0)])}),[function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"modal fade",attrs:{tabindex:"-1",role:"dialog",id:"myModal"}},[e("div",{staticClass:"modal-dialog",attrs:{role:"document"}},[e("div",{staticClass:"modal-content"},[e("div",{staticClass:"modal-header"},[e("button",{staticClass:"close",attrs:{type:"button","data-dismiss":"modal","aria-label":"Close"}},[e("span",{attrs:{"aria-hidden":"true"}},[t._v("×")])]),t._v(" "),e("h4",{staticClass:"modal-title"},[t._v("Modal title")])]),t._v(" "),e("div",{staticClass:"modal-body"},[e("p",[t._v("One fine body…")])]),t._v(" "),e("div",{staticClass:"modal-footer"},[e("button",{staticClass:"btn btn-default",attrs:{type:"button","data-dismiss":"modal"}},[t._v("Close")]),t._v(" "),e("button",{staticClass:"btn btn-primary",attrs:{type:"button"}},[t._v("Save changes")])])])])])}],!1,null,"8a95e028",null);a.default=h.exports}}]);